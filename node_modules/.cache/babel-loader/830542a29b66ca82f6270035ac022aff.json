{"ast":null,"code":"var _jsxFileName = \"/Users/codywesley/Documents/frontend-exam/src/components/Post/create.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePost = () => {\n  _s();\n\n  const [date, setDate] = useState(handleGetDate());\n  const [title, setTitle] = useState('');\n  const [imageUpload, setImageUpload] = useState(null);\n  const [content, setContent] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  let posts = JSON.parse(localStorage.getItem('posts'));\n\n  function handleOnChangeTitle(e) {\n    setTitle(e.target.value);\n    setError('');\n    setSuccess('');\n  }\n\n  function handleOnChangeContent(e) {\n    setContent(e.target.value);\n    setError('');\n    setSuccess('');\n  }\n\n  function handleGetDate() {\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth() + 1;\n    let yyyy = today.getFullYear();\n\n    if (dd < 10) {\n      dd = '0' + dd;\n    }\n\n    if (mm < 10) {\n      mm = '0' + mm;\n    }\n\n    return today = yyyy + '.' + mm + '.' + dd;\n  }\n\n  function handleLoadFile(event) {\n    setImageUpload(event.target.files[0]);\n    setError('');\n    setSuccess('');\n  }\n\n  function handlePreviewFile() {\n    if (imageUpload) return URL.createObjectURL(imageUpload);\n  }\n\n  const getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  function handleSavePost(e) {\n    if (title && imageUpload && content) {\n      getBase64(imageUpload).then(base64 => {\n        console.debug(\"file stored\", base64);\n        const submitData = {\n          id: posts.length,\n          img: base64,\n          title: title,\n          content: content,\n          date: date\n        };\n        posts = [...posts, submitData];\n        localStorage.setItem('posts', JSON.stringify(posts));\n      });\n      setSuccess('Successfully Added!');\n      setTitle('');\n      setImageUpload(null);\n      setContent('');\n    } else {\n      setError('All fields are required!');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-post-button-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: e => handleSavePost(e),\n        className: \"create-post-button\",\n        children: \"Save Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"create-post-button\",\n        to: \"/\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"l-container\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-status is-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-status is-success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          type: \"text\",\n          className: \"form-post-date\",\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Title\",\n          value: title,\n          rows: \"3\",\n          onChange: e => handleOnChangeTitle(e),\n          className: \"form-post-field-title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-post-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"form-post-image \" + (imageUpload && 'is-visible'),\n            src: handlePreviewFile()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/gif, image/jpeg, image/png\",\n            name: \"image\",\n            id: \"file\",\n            onChange: e => handleLoadFile(e),\n            className: \"form-post-upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Content\",\n          value: content,\n          rows: \"5\",\n          onChange: e => handleOnChangeContent(e),\n          className: \"form-post-field-textarea\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreatePost, \"HmJv8seWGeEn55GycOSCcS2KZKQ=\");\n\n_c = CreatePost;\nexport default CreatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"sources":["/Users/codywesley/Documents/frontend-exam/src/components/Post/create.js"],"names":["Link","useState","CreatePost","date","setDate","handleGetDate","title","setTitle","imageUpload","setImageUpload","content","setContent","error","setError","success","setSuccess","posts","JSON","parse","localStorage","getItem","handleOnChangeTitle","e","target","value","handleOnChangeContent","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","handleLoadFile","event","files","handlePreviewFile","URL","createObjectURL","getBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","handleSavePost","then","base64","console","debug","submitData","id","length","img","setItem","stringify"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport { useState } from 'react';\n\nconst CreatePost = () => {\n\n  const [date, setDate] = useState(handleGetDate());\n  const [title, setTitle] = useState('');\n  const [imageUpload, setImageUpload] = useState(null);\n  const [content, setContent] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  let posts = JSON.parse(localStorage.getItem('posts'));\n\n\n  function handleOnChangeTitle(e) {\n    setTitle(e.target.value)\n    setError('');\n    setSuccess('');\n  }\n\n  function handleOnChangeContent(e) {\n    setContent(e.target.value)\n    setError('');\n    setSuccess('');\n  }\n\n  function handleGetDate() {\n    let today = new Date();\n    let dd = today.getDate();\n\n    let mm = today.getMonth()+1; \n    let yyyy = today.getFullYear();\n    if(dd<10) \n    {\n        dd='0'+dd;\n    } \n\n    if(mm<10) \n    {\n        mm='0'+mm;\n    } \n\n    return today = yyyy + '.' + mm + '.' + dd;\n  }\n\n  function handleLoadFile(event) {\n    setImageUpload(event.target.files[0]);\n    setError('');\n    setSuccess('');\n  }\n\n  function handlePreviewFile() {\n    if(imageUpload)\n      return URL.createObjectURL(imageUpload);\n  }\n\n  const getBase64 = (file) => {\n    return new Promise((resolve,reject) => {\n       const reader = new FileReader();\n       reader.onload = () => resolve(reader.result);\n       reader.onerror = error => reject(error);\n       reader.readAsDataURL(file);\n    });\n  }\n\n  function handleSavePost(e) {\n    if(title && imageUpload && content) {\n\n      getBase64(imageUpload).then(base64 => {\n        console.debug(\"file stored\",base64);\n        const submitData = {\n          id: posts.length,\n          img: base64,\n          title: title,\n          content: content,\n          date: date\n        }\n  \n        posts = [...posts, submitData];\n        localStorage.setItem('posts', JSON.stringify(posts));\n      });\n      \n      setSuccess('Successfully Added!');\n      setTitle('');\n      setImageUpload(null);\n      setContent('');\n\n    } else {\n      setError('All fields are required!');\n    }\n  }\n\n  return (\n    <div className=\"create-post\">\n      <div className=\"create-post-button-wrapper\">\n        <a href=\"#\" onClick={(e) => handleSavePost(e)} className=\"create-post-button\">Save Post</a>\n        <Link className=\"create-post-button\" to=\"/\">Cancel</Link>\n      </div>\n      <div className=\"l-container\">\n        {\n          error &&\n          <p className=\"form-status is-error\">{error}</p>\n        }\n        {\n          success &&\n          <p className=\"form-status is-success\">{success}</p>\n        }\n        <form className=\"form-post\">\n          <p type=\"text\" className=\"form-post-date\">{date}</p>\n          <textarea placeholder=\"Title\" value={title} rows=\"3\" onChange={(e) => handleOnChangeTitle(e)} className=\"form-post-field-title\" required/>\n          <div className=\"form-post-group\">\n            <img className={\"form-post-image \" + (imageUpload && 'is-visible')} src={handlePreviewFile()}/>\n            <input type=\"file\" accept=\"image/gif, image/jpeg, image/png\" name=\"image\" id=\"file\" onChange={(e) => handleLoadFile(e)} className=\"form-post-upload\"/>\n          </div>\n          <textarea  placeholder=\"Content\" value={content} rows=\"5\" onChange={(e) => handleOnChangeContent(e)} className=\"form-post-field-textarea\" required/>\n\n        </form>\n      </div>\n      \n    </div>\n  )\n}\n\nexport default CreatePost;"]},"metadata":{},"sourceType":"module"}